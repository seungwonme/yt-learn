# YouTube 학습 플랫폼 만들기

> AI와 함께 코딩 없이 만드는 학습 플랫폼 (2025년 최신 버전)

## 시작하기 전에

이 가이드는 **AI 어시스턴트(Claude, ChatGPT 등)** 와 함께 YouTube 학습 플랫폼을 만드는 방법입니다.
프로그래밍 지식이 없어도 AI에게 요청하는 방식으로 따라할 수 있습니다.

### 필요한 것

1. **터미널 (명령창)** - 맥의 터미널 또는 윈도우의 PowerShell
2. **AI 어시스턴트** - Claude Code, ChatGPT, Cursor 등
3. **API 키** - 나중에 발급받을 예정

---

## 🧰 사용하는 도구들

이 프로젝트에서 사용하는 주요 도구들을 간략히 소개합니다.

### Next.js

**한 줄 설명**: React 기반의 풀스택 웹 프레임워크

**왜 사용하나요?**
- 서버/클라이언트 코드를 한 프로젝트에서 관리
- 파일 기반 라우팅으로 페이지 구성 간편
- API 라우트로 백엔드 기능 구현 가능

**예시**: `src/app/page.tsx` 파일이 자동으로 메인 페이지(`/`)가 됨

**공식 문서**: https://nextjs.org/docs

### shadcn/ui

**한 줄 설명**: 복사해서 붙여넣기 방식의 React UI 컴포넌트 모음

**왜 사용하나요?**
- 디자인이 깔끔하고 현대적
- 필요한 컴포넌트만 선택해서 추가 가능
- Tailwind CSS와 완벽 호환

**예시**: 버튼 하나 추가하려면 `pnpm dlx shadcn@latest add button` 실행

**공식 문서**: https://ui.shadcn.com

### youtubei.js

**한 줄 설명**: YouTube 내부 API를 사용하는 자막 추출 라이브러리

**왜 사용하나요?**
- 배포 환경(Vercel)에서도 안정적으로 작동
- API 키 없이 자막 추출 가능
- 2025년 기준 가장 안정적인 방법

**예시**: 영상 ID만 있으면 자막을 자동으로 가져옴

**공식 문서**: https://github.com/LuanRT/YouTube.js

### Zod

**한 줄 설명**: 데이터가 올바른 형태인지 검사하는 도구

**왜 사용하나요?**
- API로 들어오는 데이터가 올바른지 자동 검사
- 잘못된 데이터가 들어오면 명확한 에러 메시지 제공

**예시**: "검색어는 필수입니다" 같은 에러 메시지를 자동으로 처리

**공식 문서**: https://zod.dev

### react-youtube

**한 줄 설명**: React에서 YouTube 영상을 쉽게 재생하는 컴포넌트

**왜 사용하나요?**
- YouTube 플레이어를 간편하게 추가
- 재생/일시정지/시간 이동 등 제어 가능

**예시**: 한 줄 코드로 영상 플레이어 추가

**공식 문서**: https://www.npmjs.com/package/react-youtube

### Google Gemini AI

**한 줄 설명**: Google의 AI 모델로 텍스트를 분석하고 요약

**왜 사용하나요?**
- 자막을 분석해서 핵심 내용 요약
- JSON 형식으로 구조화된 응답 가능

**예시**: 긴 영상 자막을 핵심 포인트로 정리

**공식 문서**: https://ai.google.dev/gemini-api/docs

---

## 📦 1단계: 프로젝트 초기 설정

> 이 단계는 터미널에서 직접 실행합니다.

### 1-1. UI 라이브러리 설치

터미널에서 실행:
```bash
pnpm dlx shadcn@latest init -d
```

**결과**: 예쁜 UI 컴포넌트들을 사용할 수 있는 환경이 준비됩니다.

### 1-2. 필요한 도구들 설치

터미널에서 실행:
```bash
pnpm add @google/generative-ai youtubei.js react-youtube react-icons next-themes zod
```

**결과**: YouTube와 AI 기능을 사용하기 위한 도구들이 설치됩니다.

### 1-3. 폴더 구조 만들기

터미널에서 실행:
```bash
mkdir -p src/app/video/[videoId] \
  src/app/api/youtube/search \
  src/app/api/youtube/captions \
  src/app/api/ai/summarize \
  src/components/search \
  src/components/video \
  src/components/theme \
  src/lib/youtube \
  src/lib/ai \
  src/types
```

**결과**: 프로젝트에 필요한 폴더들이 생성됩니다.

### 1-4. 환경 변수 파일 만들기

프로젝트 폴더에 `.env.example` 파일을 만들고 아래 내용을 복사:

```bash
# YouTube Data API v3 키
# 발급: https://console.cloud.google.com/apis/credentials
YOUTUBE_API_KEY=

# Google Gemini API 키
# 발급: https://makersuite.google.com/app/apikey
GOOGLE_GEMINI_API_KEY=

# 검색 결과 최대 개수
YOUTUBE_MAX_RESULTS=10
```

그 다음 `.env.local` 파일을 만들고 실제 API 키를 입력합니다.
(API 키 발급은 아래 "🔑 API 키 발급하기" 섹션 참고)

**결과**: 환경 변수 설정 완료

---

## 🔧 2단계: 기본 설정

> 이 단계부터는 AI에게 프롬프트로 요청합니다.

### 2-1. 데이터 타입 정의

**AI에게 이렇게 말하세요:**

```
프로젝트에서 사용할 데이터 타입들을 정의해줘.

필요한 타입:
- YouTube 영상 정보 (제목, 썸네일, 채널명, 영상ID 등)
- 자막 정보 (텍스트, 시작 시간, 길이)
- AI 요약 결과 (전체 요약, 핵심 포인트, 타임스탬프)
- API 응답 형식

참고: https://developers.google.com/youtube/v3/docs/search/list
```

**원하는 결과**:
- 프로젝트 전체에서 사용할 데이터 형식이 정의됨

### 2-2. 테마 설정 (다크모드)

**AI에게 이렇게 말하세요:**

```
다크모드/라이트모드 전환 기능을 만들어줘.

기능:
- 다크모드와 라이트모드 전환
- 시스템 설정 따르기 옵션
- 선택한 테마 저장

레이아웃 설정:
- 웹사이트 제목: "YouTube 학습 플랫폼"
- 언어: 한국어

참고: https://github.com/pacocoursey/next-themes
```

**원하는 결과**:
- 다크모드/라이트모드 지원
- 웹사이트 제목 변경

### 2-3. 이미지 설정

**AI에게 이렇게 말하세요:**

```
YouTube 썸네일 이미지를 표시할 수 있도록 설정해줘.

필요한 도메인:
- i.ytimg.com (썸네일)
- yt3.ggpht.com (채널 아이콘)

참고: https://nextjs.org/docs/app/api-reference/components/image
```

**원하는 결과**:
- YouTube 썸네일 이미지가 웹사이트에 표시됨

---

## 🎥 3단계: YouTube 기능 만들기

### 3-1. YouTube 검색 기능

**AI에게 이렇게 말하세요:**

```
YouTube 검색 기능을 만들어줘.

기능:
- 검색어로 YouTube 영상 검색
- 검색 결과를 우리가 사용하기 쉬운 형태로 변환
- 환경 변수에서 API 키 가져오기

입력: 검색어, 최대 결과 수
출력: 영상 목록 (제목, 썸네일, 채널명, 영상ID)

참고: https://developers.google.com/youtube/v3/docs/search/list
```

**원하는 결과**:
- YouTube 검색 기능 완성

### 3-2. 자막 추출 기능

**AI에게 이렇게 말하세요:**

```
YouTube 영상에서 자막을 추출하는 기능을 만들어줘.

기능:
- 영상 ID로 자막 가져오기
- 배포 환경(Vercel)에서도 안정적으로 작동
- 타임스탬프와 텍스트 추출

사용할 라이브러리: youtubei.js

⚠️ 중요 - 시간 단위 변환:
- youtubei.js는 시간을 밀리초(ms)로 반환함
- 초(seconds) 단위로 변환 필요
- start: start_ms / 1000
- duration: (end_ms - start_ms) / 1000

참고: https://github.com/LuanRT/YouTube.js
```

**원하는 결과**:
- 영상 자막 추출 기능 완성
- 배포 환경에서도 정상 작동
- 타임스탬프가 초 단위로 올바르게 표시됨

### 3-3. 검색 API

**AI에게 이렇게 말하세요:**

```
YouTube 검색 API 엔드포인트를 만들어줘.

기능:
- 검색어를 받아서 YouTube 검색 실행
- 잘못된 입력 검증
- 에러 발생 시 적절한 메시지 반환

입력: 검색어 (필수), 최대 결과 수 (선택)
출력: 영상 목록, 다음 페이지 토큰

입력 검증: zod 라이브러리 사용

⚠️ 중요 (Zod 4.x 버전):
- 에러 정보는 error.issues에 있음 (error.errors 아님)

참고: https://zod.dev/ERROR_HANDLING
```

**원하는 결과**:
- 검색 API 완성
- `/api/youtube/search?q=검색어` 로 검색 가능

### 3-4. 자막 API

**AI에게 이렇게 말하세요:**

```
자막 추출 API 엔드포인트를 만들어줘.

기능:
- 영상 ID를 받아서 자막 추출
- 자막이 없으면 적절한 메시지 반환

입력: 영상 ID (필수), 언어 (선택, 기본값 한국어)
출력: 자막 목록, 언어, 사용 가능 여부

입력 검증: zod 라이브러리 사용

⚠️ 중요 (Zod 4.x 버전):
- 에러 정보는 error.issues에 있음

@https://zod.dev/ERROR_HANDLING Zod 에러 처리 문서 참고
```

**원하는 결과**:
- 자막 추출 API 완성

---

## 🎨 4단계: 메인 페이지 만들기

### 4-1. 검색창

**AI에게 이렇게 말하세요:**

```
검색창을 만들어줘.

기능:
- 검색어 입력
- 검색 버튼 (돋보기 아이콘)
- 엔터키로도 검색 가능
- 검색 중일 때 버튼 비활성화

스타일:
- shadcn/ui 컴포넌트 사용
- 깔끔하고 현대적인 디자인

참고: https://ui.shadcn.com/docs/components/input
참고: https://ui.shadcn.com/docs/components/button
```

**원하는 결과**:
- 깔끔한 검색창 완성

### 4-2. 영상 카드

**AI에게 이렇게 말하세요:**

```
영상 카드를 만들어줘.

화면 구성:
- 영상 썸네일 (위쪽)
- 제목, 채널명, 설명 (아래쪽)
- 제목은 2줄까지만 표시 (넘치면 ... 처리)

동작:
- 클릭하면 영상 상세 페이지로 이동
- 마우스 올리면 살짝 확대되는 효과

스타일:
- shadcn/ui Card 컴포넌트 사용

참고: https://ui.shadcn.com/docs/components/card
```

**원하는 결과**:
- 예쁜 영상 카드 완성

### 4-3. 검색 결과 표시

**AI에게 이렇게 말하세요:**

```
검색 결과를 표시하는 영역을 만들어줘.

상태별 화면:
- 검색 전: "YouTube 영상을 검색해보세요" 메시지
- 로딩 중: 스켈레톤 UI (카드 모양의 로딩 표시)
- 에러 발생: 에러 메시지
- 결과 없음: "검색 결과가 없습니다"
- 결과 있음: 그리드 형태로 영상 카드 표시

반응형:
- PC: 한 줄에 3-4개
- 태블릿: 한 줄에 2개
- 모바일: 한 줄에 1개

참고: https://ui.shadcn.com/docs/components/skeleton
```

**원하는 결과**:
- 모든 상태를 처리하는 검색 결과 화면 완성

### 4-4. 메인 페이지 조립

**AI에게 이렇게 말하세요:**

```
메인 페이지를 만들어줘.

페이지 구조:
- 상단: 제목, 설명, 검색창
- 하단: 검색 결과

기능 흐름:
1. 검색어 입력
2. 검색 버튼 클릭
3. 로딩 표시
4. 검색 결과 표시

🆕 검색 상태 유지 기능:
- 검색 결과를 브라우저에 임시 저장
- 영상 페이지에서 뒤로가기 시 검색 결과 복원
- 탭을 닫으면 저장된 내용 삭제

참고: https://developer.mozilla.org/ko/docs/Web/API/Window/sessionStorage
```

**원하는 결과**:
- 완전히 동작하는 메인 페이지 완성
- 뒤로가기 시 검색 결과 유지

---

## 📺 5단계: 영상 상세 페이지 만들기

### 5-1. 영상 플레이어

**AI에게 이렇게 말하세요:**

```
YouTube 영상 플레이어를 만들어줘.

기능:
- YouTube 영상 재생
- 현재 재생 시간 추적 (자막 동기화용)
- 특정 시간으로 이동하는 기능
- 반응형 크기 조절

참고: https://www.npmjs.com/package/react-youtube
```

**원하는 결과**:
- YouTube 영상 플레이어 완성

### 5-2. 자막 뷰어

**AI에게 이렇게 말하세요:**

```
자막 뷰어를 만들어줘.

기능:
- 자막 목록 표시
- 현재 재생 중인 자막 하이라이트
- 자막 클릭 시 해당 시간으로 영상 이동
- 스크롤 가능한 영역

🆕 자막 복사 기능:
- "자막 복사" 버튼 추가
- 클릭 시 모든 자막 텍스트를 클립보드에 복사
- 복사 완료 시 "복사됨" 표시 (2초 후 원래대로)

아이콘: react-icons 라이브러리 사용

참고: https://developer.mozilla.org/ko/docs/Web/API/Clipboard/writeText
```

**원하는 결과**:
- 자막 뷰어 완성
- 클립보드에 자막 복사 기능

### 5-3. AI 요약 표시 영역

**AI에게 이렇게 말하세요:**

```
AI 요약을 표시하는 영역을 만들어줘.

화면 구성:
- 전체 요약 (한 문단)
- 핵심 포인트 (불릿 리스트)
- 주요 타임스탬프 (클릭하면 해당 시간으로 이동)

상태별 화면:
- 요약 없음: "AI 요약 생성 버튼을 클릭해주세요" 메시지
- 로딩 중: 스켈레톤 UI
- 에러: 에러 메시지
- 완료: 요약 내용 표시

아이콘: react-icons 라이브러리 사용

참고: https://ui.shadcn.com/docs/components/card
```

**원하는 결과**:
- AI 요약 표시 영역 완성

---

## 🤖 6단계: AI 요약 기능 만들기

### 6-1. Gemini AI 연동

**AI에게 이렇게 말하세요:**

```
Google Gemini AI로 자막을 요약하는 기능을 만들어줘.

기능:
- 자막 텍스트를 받아서 요약 생성
- JSON 형식으로 응답 받기
- 자막이 너무 길면 자동으로 잘라내기

응답 형식:
- 전체 요약 (3-5문장)
- 핵심 포인트 (5-7개)
- 주요 타임스탬프 (시간과 설명)

참고: https://ai.google.dev/gemini-api/docs/get-started/tutorial?lang=node
```

**원하는 결과**:
- Gemini AI 연동 완성

### 6-2. AI 요약 API

**AI에게 이렇게 말하세요:**

```
AI 요약 API 엔드포인트를 만들어줘.

기능:
- 자막과 영상 제목을 받아서 AI 요약 생성
- POST 요청 처리
- 입력 검증

입력: 자막 텍스트, 영상 제목
출력: AI 요약 결과 (전체 요약, 핵심 포인트, 타임스탬프)

입력 검증: zod 라이브러리 사용

⚠️ 중요 (Zod 4.x 버전):
- 에러 정보는 error.issues에 있음

@https://zod.dev/ERROR_HANDLING Zod 에러 처리 문서 참고
```

**원하는 결과**:
- AI 요약 API 완성

---

## 🎬 7단계: 모든 기능 연결하기

### 7-1. 영상 상세 페이지 조립

**AI에게 이렇게 말하세요:**

```
영상 상세 페이지를 만들어줘.

페이지 구조:
- 상단: 뒤로가기 버튼
- 왼쪽 (넓은 영역): 영상 플레이어 + 자막
- 오른쪽 (좁은 영역): AI 요약 생성 버튼 + AI 요약

기능 흐름:
1. 페이지 열면 자막 자동 추출 시작
2. 자막 로딩 중: 스켈레톤 UI 표시
3. 자막 추출 완료: 자막 표시 + "AI 요약 생성" 버튼 활성화
4. 버튼 클릭 시 AI 요약 생성 (자동 생성 안 함)
5. 영상 재생하면 현재 자막 자동 하이라이트
6. 자막이나 타임스탬프 클릭 시 해당 시간으로 이동

추가 기능:
- "AI 요약 재생성" 버튼 (요약 완료 후 표시)
- 로딩 중 버튼에 회전 아이콘 표시

반응형:
- PC: 좌우 분할
- 모바일: 위아래로 배치

아이콘: react-icons 라이브러리 사용
```

**원하는 결과**:
- 완전한 영상 상세 페이지 완성
- 모든 기능 연동
- 자막 로딩 상태 표시
- AI 요약 수동 생성 버튼

---

## 🔑 API 키 발급하기

### YouTube Data API

1. https://console.cloud.google.com/apis/credentials 접속
2. "프로젝트 만들기" 클릭
3. "사용자 인증 정보" → "API 키" 생성
4. YouTube Data API v3 활성화
5. API 키 복사

### Google Gemini API

1. https://makersuite.google.com/app/apikey 접속
2. "API 키 만들기" 클릭
3. API 키 복사

### API 키 설정

1. 프로젝트 폴더에 `.env.local` 파일 생성
2. 내용 입력:
```
YOUTUBE_API_KEY=여기에_유튜브_API_키_붙여넣기
GOOGLE_GEMINI_API_KEY=여기에_제미나이_API_키_붙여넣기
YOUTUBE_MAX_RESULTS=10
```

---

## 🚀 실행하기

### 개발 서버 시작

터미널에서:
```bash
pnpm dev
```

브라우저에서 `http://localhost:3000` 접속

### 작동 확인

1. ✅ 검색창에 키워드 입력 → 영상 목록 표시
2. ✅ 영상 클릭 → 상세 페이지 이동
3. ✅ 영상 재생
4. ✅ 자막 로딩 → 자막 표시
5. ✅ "자막 복사" 버튼으로 자막 복사
6. ✅ "AI 요약 생성" 버튼 클릭 → AI 요약 생성
7. ✅ 자막 클릭 → 해당 시간으로 이동
8. ✅ 타임스탬프 클릭 → 해당 위치로 이동
9. ✅ "AI 요약 재생성" 버튼으로 재생성 가능
10. ✅ 뒤로가기 시 검색 결과 유지

---

## 🛠️ 문제 해결 가이드

### 자막 타임스탬프가 0:00으로 표시될 때

**원인**: youtubei.js는 시간을 밀리초로 반환하는데, 초 단위로 변환하지 않음

**해결**: AI에게 이렇게 말하세요

```
자막 시간이 제대로 표시되지 않아.
밀리초를 초 단위로 변환해줘.

변환 방법:
- start: start_ms / 1000
- duration: (end_ms - start_ms) / 1000
```

### Zod 에러: "error.errors does not exist"

**원인**: Zod 4.x 버전에서 에러 접근 방식이 변경됨

**해결**: AI에게 이렇게 말하세요

```
Zod 에러 처리가 동작하지 않아.
Zod 4.x 버전에서는 error.errors 대신 error.issues를 사용해야 해.

참고: https://zod.dev/ERROR_HANDLING
```

### Next.js: "useSearchParams should be wrapped in suspense"

**원인**: Next.js 15에서 useSearchParams 사용 방식이 변경됨

**해결**: AI에게 이렇게 말하세요

```
useSearchParams 관련 에러가 발생해.
sessionStorage를 사용해서 검색 상태를 저장하고 복원하는 방식으로 바꿔줘.

참고: https://developer.mozilla.org/ko/docs/Web/API/Window/sessionStorage
```

---

## 📝 자주 묻는 질문

**Q: 에러가 발생하면 어떻게 하나요?**

A: AI에게 에러 메시지를 보여주고 이렇게 말하세요:
```
이런 에러가 발생했어:
[에러 메시지 복사]

문제를 찾아서 고쳐줘.
```

**Q: 디자인을 바꾸고 싶어요**

A: AI에게 구체적으로 요청하세요:
```
[바꾸고 싶은 부분]을 [어떻게] 바꿔줘.
예: "메인 페이지 제목 색상을 파란색으로 바꿔줘"
```

**Q: 새로운 기능을 추가하고 싶어요**

A: AI에게 원하는 기능을 설명하세요:
```
[어떤 기능]을 추가해줘.
예: "영상 즐겨찾기 기능을 추가해줘"
```

**Q: 자막이 제대로 추출되지 않아요**

A: AI에게 이렇게 말하세요:
```
자막 추출이 안 돼.
youtubei.js 라이브러리로 자막 추출 기능을 다시 만들어줘.

참고: https://github.com/LuanRT/YouTube.js
```

---

## 🎯 다음 단계

프로젝트가 완성되었습니다! 이제 다음을 시도해보세요:

- ⭐ **개선하기**: 검색 필터, 즐겨찾기, 시청 기록 등
- 🌍 **배포하기**: Vercel, Netlify 등에 배포
- 📱 **모바일 최적화**: 터치 제스처, 네이티브 앱처럼 만들기
- 🎨 **커스터마이징**: 나만의 디자인으로 변경
- 🔊 **음성 요약**: TTS 기능 추가
- 📚 **학습 노트**: 요약을 저장하고 관리하는 기능

---

## 💡 팁

1. **AI에게 명확하게 요청하기**
   - ❌ "페이지 만들어줘"
   - ✅ "검색 페이지를 만들어줘. 검색창과 결과 목록이 필요해"

2. **한 번에 하나씩**
   - 한 번에 여러 기능을 요청하지 말고, 하나씩 완성하기

3. **공식 문서 활용**
   - 프롬프트에 `@공식문서URL` 을 포함하면 더 정확한 결과

4. **테스트하며 진행**
   - 각 단계마다 `pnpm dev`로 실행해서 확인하기

5. **에러 발생 시**
   - 에러 메시지 전체를 AI에게 복사해서 보내기

---

## 🎉 축하합니다!

이제 나만의 YouTube 학습 플랫폼을 만들었습니다!

**완성된 기능**:
- ✅ YouTube 영상 검색
- ✅ 자막 자동 추출
- ✅ 자막 복사 기능
- ✅ AI 요약 생성
- ✅ 타임스탬프 네비게이션
- ✅ 검색 상태 유지
- ✅ 다크모드 지원
- ✅ 완전 반응형
- ✅ 배포 환경에서도 안정적 작동

**2025년 기술 스택**:
- Next.js 15
- youtubei.js
- Zod 4.x
- Google Gemini AI
- shadcn/ui

---

**버전**: v2.0
**마지막 업데이트**: 2025-12-01
