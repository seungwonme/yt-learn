seungwonan

~/Dev/1-project/learning-yt main* ❯ pnrd                                                                                                                                     3m 5s 01:59:57 오전

> learning-yt@0.1.0 dev /Users/seungwonan/Dev/1-project/learning-yt
> next dev --turbopack

   ▲ Next.js 15.5.6 (Turbopack)
   - Local:        http://localhost:3000
   - Network:      http://172.30.1.91:3000
   - Environments: .env

 ✓ Starting...
 ✓ Ready in 881ms
 ○ Compiling / ...
 ✓ Compiled / in 2.7s
 GET / 200 in 3312ms
 ✓ Compiled /api/youtube/search in 221ms
 GET /api/youtube/search?q=%EB%8C%80%EB%AA%A8%EC%82%B0%EA%B0%9C%EB%B0%9C%EB%8B%A8 200 in 1008ms
 ✓ Compiled /video/[videoId] in 266ms
 GET /video/HyicSf50GAw 200 in 664ms
 ○ Compiling /api/youtube/captions ...
 ✓ Compiled /api/youtube/captions in 898ms
Error fetching captions with YouTube.js: Error: No transcript segments found
    at fetchCaptions (src/lib/youtube/captions.ts:53:13)
    at async GET (src/app/api/youtube/captions/route.ts:25:20)
  51 |
  52 |     if (!segments || segments.length === 0) {
> 53 |       throw new Error("No transcript segments found");
     |             ^
  54 |     }
  55 |
  56 |     // segments를 Caption 형식으로 변환
[YOUTUBEJS][Parser]: Error: Type mismatch, got ListItemView expected MenuServiceItem | MenuServiceItemDownload.
    at ERROR_HANDLER (../../../src/parser/parser.ts:116:9)
    at Module.parseItem (../../../src/parser/parser.ts:559:13)
    at new MenuFlexibleItem (../../../../../src/parser/classes/menus/MenuFlexibleItem.ts:19:29)
    at parseItem (../../../src/parser/parser.ts:578:22)
    at Module.parseArray (../../../src/parser/parser.ts:609:22)
    at new Menu (../../../../../src/parser/classes/menus/Menu.ts:25:34)
    at Module.parseItem (../../../src/parser/parser.ts:578:22)
    at new VideoPrimaryInfo (../../../../src/parser/classes/VideoPrimaryInfo.ts:35:24)
    at parseItem (../../../src/parser/parser.ts:578:22)
    at Module.parseArray (../../../src/parser/parser.ts:609:22)
    at new TwoColumnWatchNextResults (../../../../src/parser/classes/TwoColumnWatchNextResults.ts:36:27)
    at parseItem (../../../src/parser/parser.ts:578:22)
    at parse (../../../src/parser/parser.ts:651:32)
    at Module.parseResponse (../../../src/parser/parser.ts:235:20)
    at new MediaInfo (../../../../src/core/mixins/MediaInfo.ts:53:41)
    at new VideoInfo (../../../../src/parser/youtube/VideoInfo.ts:55:5)
    at Innertube.getInfo (../../src/Innertube.ts:121:12)
    at async fetchCaptions (src/lib/youtube/captions.ts:31:18)
    at async fetchCaptions (src/lib/youtube/captions.ts:85:16)
    at async GET (src/app/api/youtube/captions/route.ts:25:20)
  29 |
  30 |     // 비디오 정보 가져오기
> 31 |     const info = await yt.getInfo(videoId);
     |                  ^
  32 |
  33 |     // 자막 가져오기
  34 |     const transcriptData = await info.getTranscript(); {
  date: 2025-11-30T17:00:14.736Z,
  version: '16.0.1',
  info: [Object]
}
[YOUTUBEJS][Text]: Unable to find matching run for attachment run. Skipping... {
  attachment_run: {
    startIndex: 18,
    element: { type: [Object], properties: [Object] },
    alignment: 'ALIGNMENT_VERTICAL_CENTER'
  },
  input_data: {
    content: '오빠두엑셀 l 엑셀 강의 대표채널 and 생생한 AI 소식 | 소이랩',
    styleRuns: [ [Object], [Object] ],
    attachmentRuns: [ [Object] ]
  },
  parsed_runs: [ { text: '오빠두엑셀 l 엑셀 강의 대표채널 and 생생한 AI 소식 | 소이랩', startIndex: 0 } ]
}
Error fetching captions with YouTube.js: Error: No transcript segments found
    at fetchCaptions (src/lib/youtube/captions.ts:53:13)
    at async fetchCaptions (src/lib/youtube/captions.ts:85:16)
    at async GET (src/app/api/youtube/captions/route.ts:25:20)
  51 |
  52 |     if (!segments || segments.length === 0) {
> 53 |       throw new Error("No transcript segments found");
     |             ^
  54 |     }
  55 |
  56 |     // segments를 Caption 형식으로 변환
 GET /api/youtube/captions?videoId=HyicSf50GAw&lang=ko 200 in 4528ms
[YOUTUBEJS][Parser]: Error: Type mismatch, got ListItemView expected MenuServiceItem | MenuServiceItemDownload.
    at ERROR_HANDLER (../../../src/parser/parser.ts:116:9)
    at Module.parseItem (../../../src/parser/parser.ts:559:13)
    at new MenuFlexibleItem (../../../../../src/parser/classes/menus/MenuFlexibleItem.ts:19:29)
    at parseItem (../../../src/parser/parser.ts:578:22)
    at Module.parseArray (../../../src/parser/parser.ts:609:22)
    at new Menu (../../../../../src/parser/classes/menus/Menu.ts:25:34)
    at Module.parseItem (../../../src/parser/parser.ts:578:22)
    at new VideoPrimaryInfo (../../../../src/parser/classes/VideoPrimaryInfo.ts:35:24)
    at parseItem (../../../src/parser/parser.ts:578:22)
    at Module.parseArray (../../../src/parser/parser.ts:609:22)
    at new TwoColumnWatchNextResults (../../../../src/parser/classes/TwoColumnWatchNextResults.ts:36:27)
    at parseItem (../../../src/parser/parser.ts:578:22)
    at parse (../../../src/parser/parser.ts:651:32)
    at Module.parseResponse (../../../src/parser/parser.ts:235:20)
    at new MediaInfo (../../../../src/core/mixins/MediaInfo.ts:53:41)
    at new VideoInfo (../../../../src/parser/youtube/VideoInfo.ts:55:5)
    at Innertube.getInfo (../../src/Innertube.ts:121:12)
    at async fetchCaptions (src/lib/youtube/captions.ts:31:18)
    at async GET (src/app/api/youtube/captions/route.ts:25:20)
  29 |
  30 |     // 비디오 정보 가져오기
> 31 |     const info = await yt.getInfo(videoId);
     |                  ^
  32 |
  33 |     // 자막 가져오기
  34 |     const transcriptData = await info.getTranscript(); {
  date: 2025-11-30T17:00:16.549Z,
  version: '16.0.1',
  info: [Object]
}
[YOUTUBEJS][Text]: Unable to find matching run for attachment run. Skipping... {
  attachment_run: {
    startIndex: 18,
    element: { type: [Object], properties: [Object] },
    alignment: 'ALIGNMENT_VERTICAL_CENTER'
  },
  input_data: {
    content: '오빠두엑셀 l 엑셀 강의 대표채널 and 생생한 AI 소식 | 소이랩',
    styleRuns: [ [Object], [Object] ],
    attachmentRuns: [ [Object] ]
  },
  parsed_runs: [ { text: '오빠두엑셀 l 엑셀 강의 대표채널 and 생생한 AI 소식 | 소이랩', startIndex: 0 } ]
}
Error fetching captions with YouTube.js: Error: No transcript segments found
    at fetchCaptions (src/lib/youtube/captions.ts:53:13)
    at async GET (src/app/api/youtube/captions/route.ts:25:20)
  51 |
  52 |     if (!segments || segments.length === 0) {
> 53 |       throw new Error("No transcript segments found");
     |             ^
  54 |     }
  55 |
  56 |     // segments를 Caption 형식으로 변환
Error fetching captions with YouTube.js: Error: No transcript segments found
    at fetchCaptions (src/lib/youtube/captions.ts:53:13)
    at async fetchCaptions (src/lib/youtube/captions.ts:85:16)
    at async GET (src/app/api/youtube/captions/route.ts:25:20)
  51 |
  52 |     if (!segments || segments.length === 0) {
> 53 |       throw new Error("No transcript segments found");
     |             ^
  54 |     }
  55 |
  56 |     // segments를 Caption 형식으로 변환
 GET /api/youtube/captions?videoId=HyicSf50GAw&lang=ko 200 in 3339ms


자막을 못가져와
